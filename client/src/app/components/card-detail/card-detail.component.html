<div class="card-detail">

  <h1 class="card-detail__title">{{cardDetailTitle}} card: {{card.name | uppercase}} {{card.surname | uppercase}}</h1>

  <div class="card-detail__field">

    <div class="card-detail__edit-side">

      <mat-accordion class="mat-accordion" multi="true" (keyup.enter)="createCard(card)">
        <mat-expansion-panel class="mat-accordion__panel" expanded>
          <mat-expansion-panel-header class="mat-accordion__header">
            <mat-panel-title class="mat-accordion__title">
              Personal data
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-form-field class="example-full-width">
            <input matInput placeholder="Name" [(ngModel)]="card.name">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input matInput placeholder="Surname" [(ngModel)]="card.surname">
          </mat-form-field>
        </mat-expansion-panel>

        <mat-expansion-panel  class="mat-accordion__panel" (opened)="panelOpenState = true" (closed)="panelOpenState = false" expanded>
          <mat-expansion-panel-header class="mat-accordion__header">
            <mat-panel-title class="mat-accordion__title">
              Hp and Damage
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-form-field class="example-full-width">
            <input class="mat-form-field_number-input" type="number" matInput placeholder="HP" [(ngModel)]="card.hp">
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input class="mat-form-field_number-input" type="number" matInput placeholder="Damage" [(ngModel)]="card.damage">
          </mat-form-field>

        </mat-expansion-panel>

        <mat-expansion-panel  class="mat-accordion__panel" (opened)="panelOpenState = true" (closed)="panelOpenState = false" expanded>
          <mat-expansion-panel-header class="mat-accordion__header">
            <mat-panel-title class="mat-accordion__title">
              Skills and Image
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-form-field>
            <mat-select placeholder="Skills" [formControl]="skills" [(ngModel)]="checkedSkills" multiple>
              <mat-option *ngFor="let skill of skillsList$ | async" [value]="skill" (click)="addSkillsToCard(card)">{{skill.name}}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input matInput placeholder="Image URL" [(ngModel)]="card.image">
          </mat-form-field>

        </mat-expansion-panel>
      </mat-accordion>

    </div>

    <div class="card-detail__visual-side">
      <app-card [card]="card" [isEditor]="true"></app-card>

      <button *ngIf="isEditor" mat-fab color="warn" class="card-detail__btn card-detail__btn_delete" (click)="openDialog(card.id)">+</button>
      <button *ngIf="!isEditor" mat-fab class="card-detail__btn card-detail__btn_create" (click)="createCard(card)">+</button>
    </div>

  </div>

</div>